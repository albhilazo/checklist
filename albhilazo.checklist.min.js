/**
 * Checklist jQuery plugin
 * @author    Albert Hilazo
 * @version   1.0.7
 *
 * @requires  jquery-1.6+
 *
 * @link      https://github.com/albhilazo/checklist
 * [Options demos]{@link http://jsfiddle.net/albhilazo/anby8wnw}
 * [Methods demos]{@link http://jsfiddle.net/albhilazo/0t0ejwzv}
 */
(function(b){b.fn.albhilazo||(b.fn.albhilazo={});b.fn.albhilazo.checklist=function(d,f){var a=this;a.NAME="albhilazo.checklist";a.settings={};a.$nodeChecklist="";var l=b(d).data(a.NAME),h={items:[],type:"checkbox",trigger:"hover",checked:!1,placement:"append",width:"",height:"",onChange:function(){},onChangeParams:{},labelAll:"All",labelFiltered:"Filtered",labelNone:"None",labelLinks:"Links"},m={optType:"ERROR ("+a.NAME+'): "{curtype}" is not a supported value type for "{option}" option. Expected type "{exptype}". Using default value.',
type:"ERROR ("+a.NAME+'): "{type}" is not a supported value for "type" option. Supported values are "checkbox" and "link". Using default value.',trigger:"ERROR ("+a.NAME+'): "{trigger}" is not a supported value for "trigger" option. Supported values are "hover" and "click". Using default value.',placement:"ERROR ("+a.NAME+'): "{placement}" is not a supported value for "placement" option. Supported values are "replace", "prepend" and "append". Using default value.'},k=function(e){console.error(m[e].replace("{"+
e+"}",a.settings[e]));a.settings[e]=h[e]},c=function(e,b,g){typeof b!==g&&(console.error(m.optType.replace("{curtype}",typeof b).replace("{option}",e).replace("{exptype}",g)),a.settings[e]=h[e])},n=function(){var b=a.$nodeChecklist.children(".checklist-label");if("link"==a.settings.type)b.html(a.settings.labelLinks);else{var c=a.$nodeChecklist.find("ul.list input").length,g=a.$nodeChecklist.find("ul.list input:checked");g.length===c?b.html(a.settings.labelAll):0<g.length?b.html(a.settings.labelFiltered):
b.html(a.settings.labelNone)}},p=function(){"click"==a.settings.trigger?(a.$nodeChecklist.addClass("clclick").click(function(){b(this).toggleClass("clactive").children("ul.list").toggle()}),b(document).mouseup(function(b){a.$nodeChecklist.is(b.target)||0!==a.$nodeChecklist.has(b.target).length||a.$nodeChecklist.removeClass("clactive").children("ul.list").hide()})):("hover"!=a.settings.trigger&&k("trigger"),a.$nodeChecklist.hover(function(){b(this).children("ul.list").show()},function(){b(this).children("ul.list").hide()}));
"checkbox"==a.settings.type&&a.$nodeChecklist.find("ul.list input:checkbox").change(function(b){a.settings.onChange(b,a.$nodeChecklist,a.settings.onChangeParams);n()})};a.addItems=function(c){b.each(c,function(b,c){if("link"==a.settings.type)a.$nodeChecklist.children("ul.list").append("<li><a href='{url}'>{item}</a></li>".replace("{item}",c[0]).replace("{url}",c[1]));else{"checkbox"!=a.settings.type&&k("type");var d,e;"object"===typeof c&&1<c.length?(d=c[1]?"checked":"",e=c[0]):(d=a.settings.checked?
"checked":"",e=c);a.$nodeChecklist.children("ul.list").append("<li><label><input type='checkbox' {checked}/>{item}</label></li>".replace("{item}",e).replace("{checked}",d))}})};a.removeItems=function(c){a.$nodeChecklist.find("ul.list > li").each(function(a,d){-1<c.indexOf(b(d).text())&&b(d).remove()})};a.destroy=function(){b(d).children("div.checklist").remove();b(d).removeData(a.NAME)};if(void 0==l&&"object"==typeof f&&f)a.settings=b.extend({},h,f),c("items",a.settings.items,"object"),c("type",a.settings.type,
"string"),c("trigger",a.settings.trigger,"string"),c("checked",a.settings.checked,"boolean"),c("placement",a.settings.placement,"string"),c("width",a.settings.width,"string"),c("height",a.settings.height,"string"),c("onChange",a.settings.onChange,"function"),c("onChangeParams",a.settings.onChangeParams,"object"),c("labelAll",a.settings.labelAll,"string"),c("labelFiltered",a.settings.labelFiltered,"string"),c("labelNone",a.settings.labelNone,"string"),c("labelLinks",a.settings.labelLinks,"string"),
a.$nodeChecklist=b("<div class='checklist'> <div class='checklist-label'>{labelAll}</div> <ul class='list'></ul> </div>".replace("{labelAll}",a.settings.labelAll)),a.settings.width&&a.$nodeChecklist.css("width",a.settings.width),a.settings.height&&a.$nodeChecklist.find("ul.list").css("max-height",a.settings.height),a.addItems(a.settings.items),p(),n(),"replace"==a.settings.placement?b(d).html(a.$nodeChecklist):"prepend"==a.settings.placement?b(d).prepend(a.$nodeChecklist):("append"!=a.settings.placement&&
k("placement"),b(d).append(a.$nodeChecklist));else return l};b.fn.albhilazo_checklist=function(d,f){return this.each(function(){var a=b(this).data("albhilazo.checklist");void 0==a&&b(this).data("albhilazo.checklist",new b.fn.albhilazo.checklist(this,d));if("string"==typeof d)if(a[d])a[d](f);else console.error('ERROR (albhilazo.checklist): "'+d+'" is not a supported method.')})}})(jQuery);