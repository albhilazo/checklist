/**
 * Checklist jQuery plugin
 * @author    Albert Hilazo
 * @version   1.0.4
 *
 * @requires  jquery-1.6+
 *
 * @link      https://github.com/albhilazo/checklist
 * @link      http://jsfiddle.net/albhilazo/anby8wnw
 */
(function(b){b.fn.albhilazo||(b.fn.albhilazo={});b.fn.albhilazo.checklist=function(c,f){var a=this;a.NAME="albhilazo.checklist";var g=b(c).data(a.NAME),e;a.settings=b.extend({items:[],type:"checkbox",checked:!1,placement:"replace",width:"",height:"",onChange:function(){},onChangeParams:{},labelAll:"All",labelFiltered:"Filtered",labelNone:"None",labelLinks:"Links"},f);var k="ERROR ("+a.NAME+'): "{curtype}" is not a supported value type for "{option}" option. Expected type "{exptype}".',l="ERROR ("+
a.NAME+'): "{placement}" is not a supported value for "placement" option. Supported values are "replace", "prepend" and "append".',d=function(a,b,e){typeof b!==e&&console.error(k.replace("{curtype}",typeof b).replace("{option}",a).replace("{exptype}",e))},h=function(){var b=e.children(".checklist-label");if("link"==a.settings.type)b.html(a.settings.labelLinks);else{var d=e.find("ul.list input").length,c=e.find("ul.list input:checked");c.length===d?b.html(a.settings.labelAll):0<c.length?b.html(a.settings.labelFiltered):
b.html(a.settings.labelNone)}},m=function(){b.each(a.settings.items,function(b,c){if("link"==a.settings.type)e.children("ul.list").append("<li><a href='{url}'>{item}</a></li>".replace("{item}",c[0]).replace("{url}",c[1]));else{var d,f;"object"===typeof c&&1<c.length?(d=c[1]?"checked":"",f=c[0]):(d=a.settings.checked?"checked":"",f=c);e.children("ul.list").append("<li><label><input type='checkbox' {checked}/>{item}</label></li>".replace("{item}",f).replace("{checked}",d))}})},n=function(b){a.settings.onChange(b,
e,a.settings.onChangeParams);h()};a.init=function(){d("items",a.settings.items,"object");d("checked",a.settings.checked,"boolean");d("type",a.settings.type,"string");d("placement",a.settings.placement,"string");d("width",a.settings.width,"string");d("height",a.settings.height,"string");d("onChange",a.settings.onChange,"function");d("onChangeParams",a.settings.onChangeParams,"object");d("labelAll",a.settings.labelAll,"string");d("labelFiltered",a.settings.labelFiltered,"string");d("labelNone",a.settings.labelNone,
"string");d("labelLinks",a.settings.labelLinks,"string");e=b("<div class='checklist'> <div class='checklist-label'>{labelAll}</div> <ul class='list'></ul> </div>".replace("{labelAll}",a.settings.labelAll));a.settings.width&&e.css("width",a.settings.width);a.settings.height&&e.find("ul.list").css("max-height",a.settings.height);m();e.hover(function(){b(this).children("ul.list").show()},function(){b(this).children("ul.list").hide()});"link"!=a.settings.type&&e.find("ul.list input:checkbox").change(n);
h();switch(a.settings.placement){case "replace":b(c).html(e);break;case "prepend":b(c).prepend(e);break;case "append":b(c).append(e);break;default:console.error(l.replace("{placement}",a.settings.placement))}b(c).data(a.NAME,a)};if(void 0==g)a.init();else return g};b.fn.albhilazo_checklist=function(c){return this.each(function(){var f=b(this).data("albhilazo.checklist");void 0==f&&b(this).data("albhilazo.checklist",new b.fn.albhilazo.checklist(this,c));if("string"==typeof c)if(f[c])f[c]();else console.error('ERROR (albhilazo.checklist): "'+
c+'" is not a supported method.')})}})(jQuery);